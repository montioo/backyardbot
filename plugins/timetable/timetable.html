
{% comment This is the recommended way to get the plugin's name to the js implementation %}
<div id="timetable_plugin_name" style="display: none;">{{ plugin_name }}</div>

<h2>Plugin: {{ plugin_name }}</h2>

Shows the scheduled watering tasks.

<table id="ttp_table">
  <tr>
    <th class="tv_header">Time</th>
    <th class="tv_header">Channel</th>
    <th class="tv_header">Duration</th>
  </tr>
  {% for row in values["timetable"] %}
  <tr>
    <td class="tv_elem">{{ row["time"] }}</td>
    <td class="tv_elem">{{ row["channel"] }}</td>
    <td class="tv_elem">{{ row["duration"]//60 }}</td>
    <td class="td_remove tv_elem" onclick="tt_plugin.delete_row(this);">x</td>
  </tr>
  {% end %}
</table>

<div class="selector_row" id="ttp_day_selector">
  <button onclick="tt_plugin.show_overlay()">Add Element</button>
</div>


<div id="ttp_new_element_overlay" class="overlay_black_background">
  <div class="overlay">

    {% comment TODO: Use localization to make this customizable %}

    <h3>Create new Task</h3>

    <div class="selector_row" id="ttp_time_selector">
      Starting time:
      <input type="time" class="time_picker" id="ttp_time_input_field" onchange="time_changed(this)">
    </div>

    {% comment TODO: Localization with static amount of weekdays or generate them in a loop. %}
    <div class="selector_row" id="ttp_day_selector">
      <div class="selector_box" onclick="clicked_selector(this)">Mon</div>
      <div class="selector_box" onclick="clicked_selector(this)">Tue</div>
      <div class="selector_box" onclick="clicked_selector(this)">Wed</div>
      <div class="selector_box" onclick="clicked_selector(this)">Thu</div>
      <div class="selector_box" onclick="clicked_selector(this)">Fri</div>
      <div class="selector_box" onclick="clicked_selector(this)">Sat</div>
      <div class="selector_box" onclick="clicked_selector(this)">Sun</div>
    </div>

    <div class="selector_row" id="ttp_channel_selector">
      {% for channel in values["channels"] %}
        <div class="selector_box" onclick="clicked_selector(this)">{{ channel }}</div>
      {% end %}
    </div>

    <div class="selector_row">
      Duration:
      <input id="ppt_duration_input_field" class="time_picker" placeholder="2" type="number" min="1" max="20" step="1" style="width: 60px;">
      Minutes
    </div>

    <div class="selector_row" style="display: none;">
      Error message here
    </div>

    <div class="selector_row">
      <button onclick="tt_plugin.new_element_overlay()">Add</button>
      <button onclick="hide_overlay('ttp_new_element_overlay')">Cancel</button>
    </div>

  </div>
</div>
